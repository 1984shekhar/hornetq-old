<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright 2009 Red Hat, Inc.
  ~ Red Hat licenses this file to you under the Apache License, version
  ~ 2.0 (the "License"); you may not use this file except in compliance
  ~ with the License.  You may obtain a copy of the License at
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
  ~ implied.  See the License for the specific language governing
  ~ permissions and limitations under the License.
  -->

<project default="upload" name="JBoss Messaging">
   <property name="jbm.version" value="2.0.0.BETA1-SNAPSHOT"/>
   <property name="build.dir" value="build"/>
   <property name="jars.dir" value="${build.dir}/jars"/>

   <target name="uploadJbmBootstrap">
      <antcall target="upload">
         <param name="artifact.id" value="jbm-bootstrap"/>
         <param name="artifact.type" value="jar"/>
      </antcall>
   </target>

   <target name="uploadJbmCore">
      <antcall target="upload">
         <param name="artifact.id" value="jbm-core"/>
         <param name="artifact.type" value="jar"/>
      </antcall>
   </target>

   <target name="uploadJbmLogging">
      <antcall target="upload">
         <param name="artifact.id" value="jbm-logging"/>
         <param name="artifact.type" value="jar"/>
      </antcall>
   </target>

   <target name="uploadJbmTransports">
      <antcall target="upload">
         <param name="artifact.id" value="jbm-transports"/>
         <param name="artifact.type" value="jar"/>
      </antcall>
   </target>

   <target name="uploadJbmCoreClient">
      <antcall target="upload">
         <param name="artifact.id" value="jbm-core-client"/>
         <param name="artifact.type" value="jar"/>
      </antcall>
   </target>

   <target name="uploadJbmJms">
      <antcall target="upload">
         <param name="artifact.id" value="jbm-jms"/>
         <param name="artifact.type" value="jar"/>
      </antcall>
   </target>

   <target name="uploadJbmJmsClient">
      <antcall target="upload">
         <param name="artifact.id" value="jbm-jms-client"/>
         <param name="artifact.type" value="jar"/>
      </antcall>
   </target>

   <target name="uploadJbmSecurity">
      <antcall target="upload">
         <param name="artifact.id" value="jbm-jboss-as-security"/>
         <param name="artifact.type" value="jar"/>
      </antcall>
   </target>

   <target name="uploadJbmRa">
      <antcall target="upload">
         <param name="artifact.id" value="jbm-ra"/>
         <param name="artifact.type" value="jar"/>
      </antcall>
   </target>

   <target name="uploadJbmResources">
      <antcall target="upload">
         <param name="artifact.id" value="jbm-resources"/>
         <param name="artifact.type" value="jar"/>
      </antcall>
   </target>


   <target name="upload">
      <exec executable="mvn">
         <arg value="-s settings.xml"/>
         <arg value="deploy:deploy-file"/>
         <arg value="-DgroupId=org.hornetq"/>
         <arg value="-DartifactId=${artifact.id}"/>
         <arg value="-Dversion=${jbm.version}"/>
         <arg value="-Dpackaging=${artifact.type}"/>
         <arg value="-DgeneratePom=true"/>
         <arg value="-Dfile=${jars.dir}/${artifact.id}.${artifact.type}"/>
         <arg value="-DrepositoryId=snapshots.jboss.org"/>
         <arg value="-Durl=dav:https://snapshots.jboss.org/maven2"/>
      </exec>
   </target>

</project>